<!-- public/index.html -->
<!DOCTYPE html>
<html lang="en" ng-app="todoApp">
    <head>
        <meta charset="UTF-8">
        <base href="/">
        <title>Interactive-TODO</title>
        <!-- CSS -->
        <link rel="stylesheet" href="stylesheets/style.css">
        <link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
        <!-- JS -->
        <script src="libs/angular/angular.min.js"></script>
        <script src="libs/angular-route/angular-route.min.js"></script>
        <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.11.2.min.js"></script>
        <!-- ANGULAR CUSTOM -->
        <script src="js/constants/constants.js"></script>
        <script src="js/controllers/mainController.js"></script>
        <script src="js/controllers/todoController.js"></script>
        <script src="js/controllers/noteController.js"></script>
        <script src="js/services/todoUIService.js"></script>
        <script src="js/services/noteUIService.js"></script>
        <script src="js/appUIRoutes.js"></script>
        <script src="js/appUI.js"></script>
    </head>
    <body ng-controller="mainController">
        <div id="lists">
            <h1>My Todo's</h1>
            <ul ng-repeat="group in groups track by $index">
                <h4>{{group}}</h4>
                <ul ng-show="todo.group == group" ng-repeat="todo in todos">
                    <li id="{{todo._id}}"  ng-click="populateTodo(todo._id)">{{todo.name}}
                        <button ng-click="removeTodo(todo._id)" class="enabled">&times;</button>
                    </li>
                </ul>
                <form id="newList" ng-submit="submitTodo(group, $index)">
                    <input type="text" ng-model="newTodo[$index]" id="listName" placeholder="Add todo...">
                    <input type="submit" style="display:none">
                </form>
            </ul>
        </div>
        <div id="main">
            <div id="items">
                <h1 ng-hide="selectedTodo.editing" ng-click="updateTodo(selectedTodo)">{{selectedTodo.name}}</h1>
                <input id="todoTitle" ng-show="selectedTodo.editing" ng-model="selectedTodo.name"
                ng-blur="doneUpdate(selectedTodo)" auto-focus />
                <ul>
                    <li>{{selectedTodo.deadline}}</li>
                    <li ng-hide="selectedTodo.editing" ng-click="updateTodo(selectedTodo)">
                    {{selectedTodo.priority}}</li>
                    <input ng-show="selectedTodo.editing" ng-model="selectedTodo.priority"
                    ng-blur="doneUpdate(selectedTodo)" autofocus />
                    <li ng-hide="selectedTodo.editing" ng-click="updateTodo(selectedTodo)">{{selectedTodo.group}}</li>
                    <input ng-show="selectedTodo.editing" ng-model="selectedTodo.group"
                    ng-blur="doneUpdate(selectedTodo)" autofocus />
                </ul>
                <ol id="subtodoList" ng-repeat="subtodo in selectedTodo.subtodo track by $index">
                    <div ng-hide="selectedTodo.editing">
                        <div style="width:50px;float: left">
                            <input type="checkbox">
                        </div>
                        <div style="width: 500px;overflow: auto;" ng-click="updateTodo(selectedTodo)">
                            {{selectedTodo.subtodo[$index]}}
                        </div>
                    </div>

                    <div ng-show="selectedTodo.editing">
                        <div style="width:50px;float: left">
                            <input type="checkbox">
                        </div>
                        <div style="width: 500px;overflow: auto;" ng-click="updateTodo(selectedTodo)">
                            <input ng-model="selectedTodo.subtodo[$index]"
                            ng-blur="doneUpdate(selectedTodo)" autofocus />
                        </div>
                    </div>

                </ol>
                <form id="newItem" ng-submit="submitSubtodo()">
                    <input type="text" ng-model="newSubtodo" placeholder="Add a new subtask...">
                    <input type="submit" style="display:none">
                </form>
            </div>
            <form id="newGroup" ng-submit="submitGroup()">
                <input type="text" ng-model="newGroup" id="groupName" placeholder="Add group...">
                <input type="submit" style="display:none">
            </form>
        </div>
    </body>
</html>
